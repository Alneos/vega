SET(CTEST_PROJECT_NAME "vegapp")
SET (CTEST_SOURCE_DIRECTORY "${CTEST_SCRIPT_DIRECTORY}")
SET (CTEST_BINARY_DIRECTORY "${CTEST_SCRIPT_DIRECTORY}/build/x86_64")
SET (CTEST_START_WITH_EMPTY_BINARY_DIRECTORY TRUE)
SET (WITH_MEMCHECK FALSE)

find_program(CTEST_SVN_COMMAND NAMES svn)
set (CTEST_UPDATE_COMMAND ${CTEST_SVN_COMMAND})
find_program(CTEST_CTEST_COMMAND NAMES ctest)
SET (CTEST_COMMAND "${CTEST_CTEST_COMMAND} -j 4")
find_program(CTEST_CMAKE_COMMAND1 NAMES cmake)

SET (CTEST_CMAKE_COMMAND "${CTEST_CMAKE_COMMAND1}")
set (CTEST_CMAKE_GENERATOR "Unix Makefiles")
set (CTEST_BUILD_NAME "Linux-c++")
set (CTEST_BUILD_COMMAND "/usr/bin/make -j6")

if($ENV{CTEST_SITE_NAME}) 
set (CTEST_SITE $ENV{CTEST_SITE_NAME} CACHE STRING "CTEST site name") 
else($ENV{CTEST_SITE_NAME}) 
    execute_process(COMMAND hostname OUTPUT_VARIABLE HOSTNAME 
                OUTPUT_STRIP_TRAILING_WHITESPACE)
    if(NOT HOSTNAME)
      set(HOSTNAME "unknown")
    endif(NOT HOSTNAME)
    set (CTEST_SITE ${HOSTNAME} CACHE STRING "CTEST site name")     
endif($ENV{CTEST_SITE_NAME}) 
site_name(${CTEST_SITE})

ctest_start("Continuous")
#ctest_empty_binary_directory(${CTEST_BINARY_DIRECTORY})
ctest_update(SOURCE "${CTEST_SCRIPT_DIRECTORY}")
ctest_configure(OPTIONS "-DNIGHTLY_BUILD=FALSE")
ctest_build()
ctest_test()
ctest_submit()
